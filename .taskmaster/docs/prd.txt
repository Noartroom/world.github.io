Project: Immersive 3D Astro Website Optimization
Goal: Optimize the codebase by removing unused code, dependencies, and improving performance, accessibility, and code quality. Step-by-step approach with manual testing.

1. Unused Rust dependencies (remove)
   - Remove `log`, `console_log`, `reqwest`, `ktx2`, `anyhow` from `src/cargo.toml`.
   - Verify build passes.

2. Unused code (remove)
   - In `src/lib.rs`: Remove commented-out sky pipeline code (lines 1634-1636) and large comment block (lines 1618-1633).
   - In `src/components/Renderer.astro`: Remove `lightUnsub` variable.
   - In `src/components/Renderer.astro`: Remove/conditionally compile debug overlay code (lines 152-201).
   - In `src/pages/index.astro`: Remove console.log('Idle detection initialized').

3. Mobile optimizations
   - Adaptive grid resolution (200x200 desktop, 100x100 mobile).
   - Mobile-specific MSAA (2x mobile, 4x desktop).
   - Use `devicePixelRatio < 2` check.

4. Performance improvements
   - Optimize audio data updates in Rust (only update when data changes).
   - JavaScript: Update debug overlay less frequently (every 30 frames).
   - Remove console logs in production builds.

5. Accessibility improvements
   - Increase mobile touch targets (min 44x44px).
   - Add focus indicators for keyboard users.
   - Add aria-live regions.
   - Respect `prefersReducedMotion`.

6. Code quality improvements
   - Rust: Remove unused imports (e.g., `instant`).
   - Rust: Improve error handling (replace unwraps).
   - TypeScript: Improve `state: any` type in `Renderer.astro`.
   - Clean up code organization.

7. Dependency version check
   - Check `wasm-bindgen`, `web_sys`, `wgpu`, `glam` versions.

8. Build optimizations
   - Enable `wasm-opt -Os`.
   - Enable LTO in release profile.
   - Strip symbols.

9. "iamb sound mesh" check
   - Verify existence in git history.

10. Mobile-specific rendering
    - Reduce grid complexity on mobile.
    - Lower texture resolution on mobile.
    - Adaptive quality.
