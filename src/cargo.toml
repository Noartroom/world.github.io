[package]
name = "model_renderer"
version = "0.1.0"
edition = "2021"

[lib]
crate-type = ["cdylib"]
path = "lib.rs"

[dependencies]
console_error_panic_hook = { version = "0.1.7", optional = true }

js-sys = "0.3.69"

# Logging
log = "0.4.21"
console_log = "1.0.0"

# WASM (Exakt aufeinander abgestimmte Versionen)
wasm-bindgen = "=0.2.105"
wasm-bindgen-futures = "=0.4.55" # Die Version, die zu 0.2.105 passt
web-sys = { version = "0.3.82", features = [
    "Window",
    "Document",
    "Element",
    "HtmlCanvasElement",
    "console",
    "Gpu",
    "GpuAdapter",
    "GpuDevice",
    "GpuQueue",
    "GpuTextureFormat",
    "GpuBuffer",
    "GpuRenderPipeline",
    "Performance",
    "ImageBitmap",
    "Blob",
    "BlobPropertyBag",
    "OffscreenCanvas",
    "OffscreenCanvasRenderingContext2d",
    "ImageData",
    "CanvasRenderingContext2d"
]}

# WebGPU/WGPU-Rendering
wgpu = { version = "0.20.0", features = ["webgl", "spirv"] } # Stable and compatible with web-sys 0.3.82

# Texture Compression
ktx2 = "0.3.0"

# 3D-Mathematik
glam = { version = "0.28.0", features = ["bytemuck"] }

# GLTF/GLB-Parsing
gltf = { version = "1.4.1", features = ["default", "import", "KHR_lights_punctual"] }
anyhow = "1.0.86"

# Lade-Utilities
reqwest = { version = "0.12.5", features = ["json"] }

# Async Messaging
flume = "0.11.0"

# Sicherer Umgang mit Puffern
bytemuck = { version = "1.16.0", features = ["derive"] }


[features]
default = ["console_error_panic_hook"]